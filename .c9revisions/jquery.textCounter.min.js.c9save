{"ts":1347892970850,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"typeof Object.create!=\"function\"&&(Object.create=function(e){\"use strict\";function t(){}return t.prototype=e,new t}),function(e,t,n,r){\"use strict\";var i={init:function(t,n){var r=this,i=\"#textCounter_\";r.elem=n,r.$elem=e(n),r.options=e.extend({},e.fn.textCounter.options,t);var s=r.options;i+=r.$elem.attr(\"id\")?r.$elem.attr(\"id\"):r.$elem.attr(\"name\"),e(i).length?r.$obj=e(\"<div></div>\",{id:i,\"class\":s.defaultClass}).appendTo(\"body\").css({display:\"none\",position:\"absolute\",top:0,left:0}):r.$obj=e(i).css({display:\"none\",position:\"absolute\",top:0,left:0}).addClass(s.defaultClass),e(\"<div></div>\",{\"class\":s.counterPatternClass}).css({\"z-index\":s.zIndex,position:\"absolute\",top:0,left:0,height:\"100%\",width:\"100%\"}).appendTo(r.$obj),r.options.showProgressBar&&e(\"<span></span>\",{\"class\":s.progressBarClass}).css({\"z-index\":s.zIndex-1,position:\"absolute\",top:0,left:0,height:\"100%\"}).appendTo(r.$obj),typeof s.posX==\"string\"&&(s.posX=s.posX.toLowerCase()),typeof s.posY==\"string\"&&(s.posY=s.posY.toLowerCase()),typeof s.countDown==\"string\"&&(s.countDown=s.countDown.toLowerCase()===\"false\"?!1:!0),typeof s.showBeforeWarn==\"string\"&&(s.showBeforeWarn=s.showBeforeWarn.toLowerCase()===\"false\"?!1:!0),s.defaultClass||(s.defaultClass=\"textCounter\"),s.txtWarningClass||(s.txtWarningClass=\"txtWarning\"),s.counterWarningClass||(s.counterWarningClass=\"counterWarning\"),s.counterPatternClass||(s.counterPatternClass=\"counterTextPattern\"),s.progressBarClass||(s.progressBarClass=\"counterProgressBar\"),r._bindEvents()},_bindEvents:function(){var e=this,t=e.options,n=t.transition,r=e.$elem,i=e.$obj;e.$elem.on(\"blur focus keup keydown paste input\",function(s){switch(s){case\"blur\":r.removeClass(t.txtWarningClass),i.removeClass(t.counterWarningClass),t.showBeforeWarn&&(n===\"none\"||!n?i.hide(0):i[n](t.transitionSpeed,t.easing));break;case\"focus\":i.removeClass(t.counterWarningClass),r.removeClass(t.txtWarningClass),e._checkChars(),e._setXY(),t.showBeforeWarn&&(n===\"none\"||!n?i.show(0):i[n](t.transitionSpeed,t.easing));break;default:e._checkChars()}})},_setXY:function(){var e=this,t=0,n=0,r=e.options.posX,i=e.options.posY,s=parseInt(e.options.posXoffset,10),o=parseInt(e.options.posYoffset,10),u=e.$obj,a=e.$elem;switch(r){case\"left\":t=a.offset().left;break;case\"center\":t=a.offset().left+a.width()/2-u.width()/2;break;case\"right\":t=a.offset().left+a.width()-u.width()-4;break;default:t=parseInt(r,10)}switch(i){case\"top\":n=a.offset().top-u.height()-8;break;case\"center\":n=a.offset().top+a.height()/2-u.height()/2;break;case\"bottom\":n=a.offset().top+a.height()+9;break;default:n=parseInt(i,10)}r===\"left\"&&i===\"center\"&&(t-=u.width()+13),r===\"right\"&&i===\"center\"&&(t+=u.width()+12),typeof s==\"number\"&&(t+=parseInt(s,10)),typeof o==\"number\"&&(n+=parseInt(o,10)),u.css({top:n,left:t})},_checkChars:function(){var e=this,t=e.$elem,n=e.options,r=n.countDown,i=t.attr(\"maxlength\"),s=0,o=\"\",u=!0;typeof i||(i=n.maxLength),s=r?parseInt(Math.round(i-t.val().length),10):parseInt(Math.round(t.val().length,10),10);if(s>i||s<0)o=t.val(),o=o.substring(0,i),s=r?s++:s--,t.val(o);u=e._buildString(s,i,r),e._setClassAndShow(u)},_buildString:function(t,n,r){var i=this,s=i.options,o=s.textPattern,u=0,a=!0;return u=r?Math.round((n-t)/n*100):Math.round(t/n*100),o.indexOf(\"[%]\")>-1?r?a=u<=s.warnAt?!1:!0:a=u>=100-s.warnAt?!1:!0:r?a=t<=s.warnAt?!1:!0:a=n-t<=s.warnAt?!1:!0,o=o.replace(\"[+]\",t),o=o.replace(\"[=]\",n),o=o.replace(\"[%]\",u),e(\".\"+s.counterPatternClass).html(o),s.showProgressBar&&e(\".\"+s.progressBarClass).animate({width:u+\"%\"},1),a},_setClassAndShow:function(e){var t=this,n=t.options,r=t.$elem,i=t.$obj,s=n.transition;r.hasClass(n.txtWarningClass)?e&&r.removeClass(n.txtWarningClass):e||r.addClass(n.txtWarningClass),i.hasClass(n.counterWarningClass)?e&&(i.removeClass(n.counterWarningClass),r.trigger(\"counterPass\")):e||(i.addClass(n.counterWarningClass),r.trigger(\"counterWarning\")),!n.showBeforeWarn&&i.hasClass(n.counterWarningClass)&&i.is(\":hidden\")&&(s===\"none\"||!s?i.show(0):i[s](n.transitionSpeed,n.easing)),!n.showBeforeWarn&&!i.hasClass(n.counterWarningClass)&&i.is(\":visible\")&&(s===\"none\"||!s?i.hide(0):i[s](n.transitionSpeed,n.easing))}};e.fn.textCounter=function(t){return this.each(function(){var n=Object.create(i);n.init(t,this),e.data(this,\"textCounter\",n)})},e.fn.textCounter.options={countDown:!0,counterPatternClass:\"counterTextPattern\",counterWarningClass:\"counterWarning\",defaultClass:\"textCounter\",easing:\"swing\",maxLength:500,posX:\"right\",posY:\"bottom\",posXoffset:0,posYoffset:0,progressBarClass:\"counterProgressBar\",showBeforeWarn:!0,showProgressBar:!1,textPattern:\"[+] / [=]\",transition:\"slideToggle\",transitionSpeed:200,txtWarningClass:\"txtWarning\",warnAt:10,zIndex:100}}(jQuery,window,document)"]],"start1":0,"start2":0,"length1":0,"length2":4717}]],"length":4717}
{"contributors":[],"silentsave":false,"ts":1347908718527,"patch":[[{"diffs":[[0,"var "],[-1,"r"],[1,"i"],[0,"=this,"],[-1,"i"],[1,"s"],[0,"=\"#t"]],"start1":174,"start2":174,"length1":16,"length2":16},{"diffs":[[0,"r_\";"],[-1,"r"],[1,"i"],[0,".elem=n,"],[-1,"r"],[1,"i"],[0,".$el"]],"start1":199,"start2":199,"length1":18,"length2":18},{"diffs":[[0,"em=e(n),"],[-1,"r"],[1,"i"],[0,".options"]],"start1":217,"start2":217,"length1":17,"length2":17},{"diffs":[[0,",t);var "],[-1,"s=r"],[1,"o=i"],[0,".options"]],"start1":271,"start2":271,"length1":19,"length2":19},{"diffs":[[0,"ons;"],[-1,"i+=r"],[1,"s+=i"],[0,".$el"]],"start1":287,"start2":287,"length1":12,"length2":12},{"diffs":[[0,"tr(\"id\")"],[-1,"?r"],[1,"===r?i"],[0,".$elem.a"]],"start1":304,"start2":304,"length1":18,"length2":22},{"diffs":[[0,"tr(\""],[-1,"id\"):r"],[1,"name\"):i"],[0,".$el"]],"start1":327,"start2":327,"length1":14,"length2":16},{"diffs":[[0,"tr(\""],[-1,"name"],[1,"id"],[0,"\"),e("],[-1,"i"],[1,"s"],[0,").length"],[-1,"?r"],[1,"===0?i"],[0,".$ob"]],"start1":348,"start2":348,"length1":28,"length2":30},{"diffs":[[0,"v>\",{id:"],[-1,"i"],[1,"s"],[0,",\"class\""]],"start1":392,"start2":392,"length1":17,"length2":17},{"diffs":[[0,"\"class\":"],[-1,"s"],[1,"o"],[0,".default"]],"start1":402,"start2":402,"length1":17,"length2":17},{"diffs":[[0,"0}):"],[-1,"r"],[1,"i"],[0,".$obj=e("],[-1,"i"],[1,"\"#\"+s"],[0,").cs"]],"start1":495,"start2":495,"length1":18,"length2":22},{"diffs":[[0,"ddClass("],[-1,"s"],[1,"o"],[0,".default"]],"start1":571,"start2":571,"length1":17,"length2":17},{"diffs":[[0,"\"class\":"],[-1,"s"],[1,"o"],[0,".counter"]],"start1":612,"start2":612,"length1":17,"length2":17},{"diffs":[[0,"({\"z-index\":"],[-1,"s"],[1,"o"],[0,".zIndex,posi"]],"start1":647,"start2":647,"length1":25,"length2":25},{"diffs":[[0,"dTo("],[-1,"r"],[1,"i"],[0,".$obj),"],[-1,"r"],[1,"i"],[0,".opt"]],"start1":735,"start2":735,"length1":17,"length2":17},{"diffs":[[0,"wProgressBar"],[1,"===!0"],[0,"&&e(\"<span><"]],"start1":760,"start2":760,"length1":24,"length2":29},{"diffs":[[0,"\"class\":"],[-1,"s"],[1,"o"],[0,".progres"]],"start1":798,"start2":798,"length1":17,"length2":17},{"diffs":[[0,"-index\":"],[-1,"s"],[1,"o"],[0,".zIndex-"]],"start1":834,"start2":834,"length1":17,"length2":17},{"diffs":[[0,"ppendTo("],[-1,"r"],[1,"i"],[0,".$obj),t"]],"start1":903,"start2":903,"length1":17,"length2":17},{"diffs":[[0,"obj),typeof "],[-1,"s"],[1,"o"],[0,".posX==\"stri"]],"start1":914,"start2":914,"length1":25,"length2":25},{"diffs":[[0,"\"&&("],[-1,"s"],[1,"o"],[0,".posX="],[-1,"s"],[1,"o"],[0,".pos"]],"start1":941,"start2":941,"length1":16,"length2":16},{"diffs":[[0,",typeof "],[-1,"s"],[1,"o"],[0,".posY==\""]],"start1":973,"start2":973,"length1":17,"length2":17},{"diffs":[[0,"\"&&("],[-1,"s"],[1,"o"],[0,".posY="],[-1,"s"],[1,"o"],[0,".pos"]],"start1":996,"start2":996,"length1":16,"length2":16},{"diffs":[[0,",typeof "],[-1,"s"],[1,"o"],[0,".countDo"]],"start1":1028,"start2":1028,"length1":17,"length2":17},{"diffs":[[0,"ring\"&&("],[-1,"s"],[1,"o"],[0,".countDo"]],"start1":1052,"start2":1052,"length1":17,"length2":17},{"diffs":[[0,"untDown="],[-1,"s"],[1,"o"],[0,".countDo"]],"start1":1064,"start2":1064,"length1":17,"length2":17},{"diffs":[[0,",typeof "],[-1,"s"],[1,"o"],[0,".showBef"]],"start1":1114,"start2":1114,"length1":17,"length2":17},{"diffs":[[0,"ring\"&&("],[-1,"s"],[1,"o"],[0,".showBef"]],"start1":1143,"start2":1143,"length1":17,"length2":17},{"diffs":[[0,"oreWarn="],[-1,"s"],[1,"o"],[0,".showBef"]],"start1":1160,"start2":1160,"length1":17,"length2":17},{"diffs":[[0,"?!1:!0),"],[-1,"s"],[1,"o"],[0,".default"]],"start1":1208,"start2":1208,"length1":17,"length2":17},{"diffs":[[0,"Class||("],[-1,"s"],[1,"o"],[0,".default"]],"start1":1225,"start2":1225,"length1":17,"length2":17},{"diffs":[[0,"unter\"),"],[-1,"s"],[1,"o"],[0,".txtWarn"]],"start1":1255,"start2":1255,"length1":17,"length2":17},{"diffs":[[0,"Class||("],[-1,"s"],[1,"o"],[0,".txtWarn"]],"start1":1275,"start2":1275,"length1":17,"length2":17},{"diffs":[[0,"s=\"txtWarning\"),"],[-1,"s"],[1,"o"],[0,".counterWarningC"]],"start1":1299,"start2":1299,"length1":33,"length2":33},{"diffs":[[0,"rWarningClass||("],[-1,"s"],[1,"o"],[0,".counterWarningC"]],"start1":1323,"start2":1323,"length1":33,"length2":33},{"diffs":[[0,"rning\"),"],[-1,"s"],[1,"o"],[0,".counter"]],"start1":1371,"start2":1371,"length1":17,"length2":17},{"diffs":[[0,"Class||("],[-1,"s"],[1,"o"],[0,".counter"]],"start1":1395,"start2":1395,"length1":17,"length2":17},{"diffs":[[0,"ttern\"),"],[-1,"s"],[1,"o"],[0,".progres"]],"start1":1439,"start2":1439,"length1":17,"length2":17},{"diffs":[[0,"Class||("],[-1,"s"],[1,"o"],[0,".progres"]],"start1":1460,"start2":1460,"length1":17,"length2":17},{"diffs":[[0,"ssBar\"),"],[-1,"r"],[1,"i"],[0,"._bindEv"]],"start1":1501,"start2":1501,"length1":17,"length2":17},{"diffs":[[0,"on(\""],[-1,"blur"],[1,"focusin"],[0," focus"],[1,"out"],[0," ke"],[1,"y"],[0,"up k"]],"start1":1614,"start2":1614,"length1":21,"length2":28},{"diffs":[[0,"own "],[-1,"paste input"],[1,"input paste"],[0,"\",fu"]],"start1":1645,"start2":1645,"length1":19,"length2":19},{"diffs":[[0,"ch(s"],[1,".type"],[0,"){case\""],[-1,"blur"],[1,"focusout"],[0,"\":r."]],"start1":1678,"start2":1678,"length1":19,"length2":28},{"diffs":[[0,"\":r.removeClass("],[-1,"t"],[1,"e.options"],[0,".txtWarningClass"]],"start1":1702,"start2":1702,"length1":33,"length2":41},{"diffs":[[0,"),i.removeClass("],[-1,"t"],[1,"e.options"],[0,".counterWarningC"]],"start1":1743,"start2":1743,"length1":33,"length2":41},{"diffs":[[0,"se\"focus"],[1,"in"],[0,"\":i.remo"]],"start1":1876,"start2":1876,"length1":16,"length2":18},{"diffs":[[0,"veClass("],[-1,"t"],[1,"e.options"],[0,".counter"]],"start1":1894,"start2":1894,"length1":17,"length2":25},{"diffs":[[0,"veClass("],[-1,"t"],[1,"e.options"],[0,".txtWarn"]],"start1":1939,"start2":1939,"length1":17,"length2":25}]],"length":4784,"saved":false}
