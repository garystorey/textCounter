typeof Object.create!="function"&&(Object.create=function(e){"use strict";function t(){}return t.prototype=e,new t}),function(e,t,n,r){"use strict";var i={init:function(t,n){var r=this,i="#textCounter_";r.elem=n,r.$elem=e(n),r.options=e.extend({},e.fn.textCounter.options,t);var s=r.options;i+=r.$elem.attr("id")?r.$elem.attr("id"):r.$elem.attr("name"),r.$obj=e(i).length?e("#"+i).css({display:"none",position:"absolute",top:0,left:0}).addClass(s.defaultClass):e("<div></div>",{id:i,"class":s.defaultClass}).appendTo("body").css({display:"none",position:"absolute",top:0,left:0}),e("<div></div>",{"class":s.counterPatternClass}).css({"z-index":s.zIndex,position:"absolute",top:0,left:0,height:"100%",width:"100%"}).appendTo(r.$obj),s.showProgressBar&&e("<span></span>",{"class":s.progressBarClass}).css({"z-index":s.zIndex-1,position:"absolute",top:0,left:0,height:"100%"}).appendTo(r.$obj),typeof s.posX=="string"&&(s.posX=s.posX.toLowerCase()),typeof s.posY=="string"&&(s.posY=s.posY.toLowerCase()),s.countDown=r._convertToBoolean(s.countDown),s.showBeforeWarn=r._convertToBoolean(s.showBeforeWarn),s.defaultClass=s.defaultClass||"textCounter",s.txtWarningClass=s.txtWarningClass||"txtWarning",s.counterWarningClass=s.counterWarningClass||"counterWarning",s.counterPatternClass=s.counterPatternClass||"counterTextPattern",s.progressBarClass=s.progressBarClass||"counterProgressBar",r._bindEvents()},_bindEvents:function(){var e=this,t=e.options,n=e.$elem,r=e.$obj;e.$elem.on("focusin focusout keyup keydown input paste",function(i){switch(i.type){case"focusout":n.removeClass(t.txtWarningClass),r.removeClass(t.counterWarningClass),e._doTransition(!1);break;case"focusin":r.removeClass(t.counterWarningClass),n.removeClass(t.txtWarningClass),e._checkChars(),e._setXY(),e._doTransition(!0);break;default:e._checkChars()}})},_doTransition:function(e){var t=this.options.transition,n=this.options.transitionSpeed,r=this.options.showBeforeWarn,i=this.options.easing,s=this.$obj;e?r&&(t==="none"||!t?s.show(0):s[t](n,i)):r&&(t==="none"||!t?s.hide(0):s[t](n,i))},_setXY:function(){var e=this,t=0,n=0,r=e.options.posX,i=e.options.posY,s=parseInt(e.options.posXoffset,10),o=parseInt(e.options.posYoffset,10),u=e.$obj,a=e.$elem;switch(r){case"left":t=a.offset().left;break;case"center":t=a.offset().left+a.width()/2-u.width()/2;break;case"right":t=a.offset().left+a.width()-u.width()-4;break;default:t=parseInt(r,10)}switch(i){case"top":n=a.offset().top-u.height()-8;break;case"center":n=a.offset().top+a.height()/2-u.height()/2;break;case"bottom":n=a.offset().top+a.height()+11;break;default:n=parseInt(i,10)}r==="left"&&i==="center"&&(t-=u.width()+13),r==="right"&&i==="center"&&(t+=u.width()+12),typeof s=="number"&&(t+=parseInt(s,10)),typeof o=="number"&&(n+=parseInt(o,10)),u.css({top:n,left:t})},_checkChars:function(){var e=this,t=e.$elem,n=e.options,r=n.countDown,i=t.attr("maxlength"),s=0;typeof i||(i=n.maxLength),s=r?parseInt(Math.round(i-t.val().length),10):parseInt(Math.round(t.val().length,10),10);if(s>i||s<0)t.val(t.val().substring(0,i)),s=r?s++:s--;e._setClassAndShow(e._buildString(s,i,r))},_buildString:function(t,n,r){var i=this,s=i.options,o=s.textPattern,u=0,a=!0;return u=r?Math.round((n-t)/n*100):Math.round(t/n*100),o.indexOf("[%]")>-1?r?a=u<=s.warnAt?!1:!0:a=u>=100-s.warnAt?!1:!0:r?a=t<=s.warnAt?!1:!0:a=n-t<=s.warnAt?!1:!0,o=o.replace("[+]",t),o=o.replace("[=]",n),o=o.replace("[%]",u),e("."+s.counterPatternClass).html(o),s.showProgressBar&&e("."+s.progressBarClass).animate({width:u+"%"},1),a},_setClassAndShow:function(e){var t=this.options,n=this.$elem,r=this.$obj;n.hasClass(t.txtWarningClass)?e&&n.removeClass(t.txtWarningClass):e||n.addClass(t.txtWarningClass),r.hasClass(t.counterWarningClass)?e&&(r.removeClass(t.counterWarningClass),n.trigger("counterPass")):e||(r.addClass(t.counterWarningClass),n.trigger("counterWarning")),!t.showBeforeWarn&&r.hasClass(t.counterWarningClass)&&r.is(":hidden")&&this._doTransition(!0),!t.showBeforeWarn&&!r.hasClass(t.counterWarningClass)&&r.is(":visible")&&this._doTransition(!1)},_convertToBoolean:function(e){return typeof e=="string"&&e.toLowerCase(),e==="false"?!1:Boolean(e)}};e.fn.textCounter=function(t){return this.each(function(){var n=Object.create(i);n.init(t,this),e.data(this,"textCounter",n)})},e.fn.textCounter.options={countDown:!0,counterPatternClass:"counterTextPattern",counterWarningClass:"counterWarning",defaultClass:"textCounter",easing:"swing",maxLength:500,posX:"right",posY:"bottom",posXoffset:0,posYoffset:0,progressBarClass:"counterProgressBar",showBeforeWarn:!0,showProgressBar:!1,textPattern:"[+] / [=]",transition:"slideToggle",transitionSpeed:200,txtWarningClass:"txtWarning",warnAt:10,zIndex:100}}(jQuery,window,document)